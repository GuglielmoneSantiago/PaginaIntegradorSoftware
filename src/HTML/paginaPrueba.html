<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bot√≥n con Imagen</title>
        <style>
            .hidden {
                display: none;
            }
        </style>
    </head>
    <body>
    
    <button id="mostrarOcultarBtn">Mostrar/Ocultar Imagen</button>

    <img class="grafico hidden"  id="graficoExpectativa" src="" alt="Grafico de Expectativa">
    
    <script>
        
        function actualizarImagen() {
            fetch('http://localhost:8000/graph/pregunta1') // grafico pregunta 1
                .then(response => response.json())
                .then(data => {
                    const imagenBase64 = data.imagen_base64_barra_pregunta_uno;
                    const imgElement = document.getElementById('graficoTelarana');
                    imgElement.src = `data:image/png;base64,${imagenBase64}`;
                })
                .catch(error => console.error('Error:', error));
            fetch('http://localhost:8000/graph/pregunta2') // grafico pregunta 2
                .then(response => response.json())
                .then(data => {
                    const imagenBase64 = data.imagen_base64_barra_pregunta_dos;
                    const imgElement = document.getElementById('graficoPreguntaDos');
                    imgElement.src = `data:image/png;base64,${imagenBase64}`;
                })
                .catch(error => console.error('Error:', error));
            fetch('http://localhost:8000/graph/chocolate') // grafico pregunta 3
                .then(response => response.json())
                .then(data => {
                    const imagenBase64 = data.imagen_base64_chocolate;
                    const imgElement = document.getElementById('graficoChocolate');
                    imgElement.src = `data:image/png;base64,${imagenBase64}`;
                })
                .catch(error => console.error('Error:', error));
            fetch('http://localhost:8000/graph/atraccion') // grafico pregunta 4
                .then(response => response.json())
                .then(data => {
                    const imagenBase64 = data.imagen_base64_atraccion;
                    const imgElement = document.getElementById('graficoAtraccion');
                    imgElement.src = `data:image/png;base64,${imagenBase64}`;
                })
                .catch(error => console.error('Error:', error));
            fetch('http://localhost:8000/graph/expectativa') // grafico pregunta 5
                .then(response => response.json())
                .then(data => {
                    const imagenBase64 = data.imagen_base64_expectativa;
                    const imgElement = document.getElementById('graficoExpectativa');
                    imgElement.src = `data:image/png;base64,${imagenBase64}`;
                })
                .catch(error => console.error('Error:', error));
            fetch('http://localhost:8000/graph/sabores') // grafico pregunta 7
                .then(response => response.json())
                .then(data => {
                    const imagenBase64 = data.imagen_base64_barra_pregunta_siete;
                    const imgElement = document.getElementById('graficoSabores');
                    imgElement.src = `data:image/png;base64,${imagenBase64}`;
                })
                .catch(error => console.error('Error:', error));
        }

        const boton = document.getElementById('mostrarOcultarBtn');
        const imagen = document.getElementById('graficoExpectativa');

     boton.addEventListener('click', function() {
        if (imagen.classList.contains('hidden')) {
            imagen.classList.remove('hidden');
            boton.textContent = 'Ocultar Imagen';
        } else {
            imagen.classList.add('hidden');
            boton.textContent = 'Mostrar Imagen';
        }
    });
    </script>
    
    </body>
    
</html>